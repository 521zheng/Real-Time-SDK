<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>UltraPerformanceAPI-CEditionReferenceManual: RsslPostMsg Reference Group</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="10">
 <tbody>
 <tr style="height: 70px;">
  
  <td bgcolor="#FFFFFF" width="100%" valign="middle">
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
        <td>&nbsp; </td>
		<td valign="top" width="100%" align="left"><font face="arial" size="3" color="#666666"><b>Transport API C Edition</b></font></td>
      </tr>
    </table>
  </td>

  <td rowspan="2"><a href="http://www.thomsonreuters.com/" target="display"><img alt="Logo" src="../../portal/banner_logo.jpg"/></td>

 </tr>
 </tbody>
</table>

<table cellSpacing="0" cellPadding="0" width="100%" border="0">
  <tr>
    <td bgColor="#cccccc"><img height="3" src="../../portal/invis.gif" width="1"></td>
  </tr>
</table>

</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>UPA&#160;Home</span></a></li>
      <li><a href="modules.html"><span>Contents</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">RsslPostMsg Reference Group</div>  </div>
<div class="ingroups"><a class="el" href="group__RSSLWFMessages.html">Transport API Message Structures</a></div></div><!--header-->
<div class="contents">

<p>The Post Message is used to contribute content from a consumer into the platform. The post message payload can contain another OMM message, OMM container, or other opaque content.  
<a href="#details">More...</a></p>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>To use <a class="el" href="structRsslPostMsg.html" title="The RsslPostMsg is used to contribute content from a consumer into the platform. The post message pay...">RsslPostMsg</a> functionality include  "rtr/rsslPostMsg.h"</p>
<p>The Post Message allows OMM Consumer applications to push and contribute content to upstream components. The post message payload can contain another OMM message, OMM container, or other opaque content. This information can be applied to an Enterprise Platform cache or routed further upstream to the source of data. Once received, the upstream components can republish data to downstream consumers. Post messages can be routed along a specific item stream, referred to as on-stream posting, or along a user’s Login stream, referred to as off-stream posting. An <a class="el" href="structRsslPostMsg.html" title="The RsslPostMsg is used to contribute content from a consumer into the platform. The post message pay...">RsslPostMsg</a> can contain any Transport API container type, including other messages. User identification information can be associated with a post message and can be provided along with the content that was posted.</p>
<dl class="section note"><dt>Note:</dt><dd>If the application wishes to get an acknowledgment for its posted content, it can specify the <a class="el" href="structRsslPostMsg.html#a9bed735ecad6ac7d1a31030c8c6dc37a" title="Flag values used to indicate optional member presence and/or stream behavior. The available options a...">RsslPostMsg::flags</a> with <a class="el" href="group__PostMsgStruct.html#gga90140b7ed08da5a58b9b82f46feab943aea97d8c21e429adbd8dde4dda5c66d56">RsslPostFlags::RSSL_PSMF_ACK</a>.</dd></dl>
<p>See <a class="el" href="group__MsgEncoders.html">Transport API Message Encoding Reference Group</a> for general Transport API Message Encoding functionality. <br/>
 See <a class="el" href="group__MsgDecoders.html">Transport API Message Decoding Reference Group</a> for general Transport API Message Decoding functionality. <br/>
 See <a class="el" href="group__MsgUtils.html">General Message Utility and Helper Functions</a> for general Transport API Message utility and helper functions. <br/>
 <br/>
<br/>
</p>
<h2><a class="anchor" id="ThePostUserInfo"></a>
RsslPostUserInfo structure</h2>
<p>The <a class="el" href="structRsslPostUserInfo.html" title="The RsslPostUserInfo is used to identify the user that has posted a message.">RsslPostUserInfo</a> is used to identify the user that has posted a message. This is used in <a class="el" href="structRsslUpdateMsg.html">RsslUpdateMsg</a>, <a class="el" href="structRsslPostMsg.html">RsslPostMsg</a>, <a class="el" href="structRsslStatusMsg.html">RsslStatusMsg</a>, and <a class="el" href="structRsslRefreshMsg.html">RsslRefreshMsg</a>.</p>
<h2><a class="anchor" id="PostMsgUseExample"></a>
RsslPostMsg Creation Examples</h2>
<p>The following code example demonstrates stack creation and initialization of an <a class="el" href="structRsslPostMsg.html" title="The RsslPostMsg is used to contribute content from a consumer into the platform. The post message pay...">RsslPostMsg</a>. This also demonstrates the use of the clear function to reuse the structures. This is typical usage prior to encoding an <a class="el" href="structRsslPostMsg.html" title="The RsslPostMsg is used to contribute content from a consumer into the platform. The post message pay...">RsslPostMsg</a>. When decoding, the <a class="el" href="structRsslPostMsg.html" title="The RsslPostMsg is used to contribute content from a consumer into the platform. The post message pay...">RsslPostMsg</a> will be populated via the decode process so there is no need to previously clear. </p>
<div class="fragment"><pre class="fragment">    <span class="comment">// Create RsslPostMsg and initialize</span>
    <a class="code" href="structRsslPostMsg.html" title="The RsslPostMsg is used to contribute content from a consumer into the platform. The post message pay...">RsslPostMsg</a> postMsg;
  
    <span class="comment">// Use the clear function since it sets the msgClass and tend to perform better</span>
    <a class="code" href="group__PostMsgStruct.html#gacfdd01fc7368355ba13656536ac135f1" title="Clears RsslPostMsg.">rsslClearPostMsg</a>(&amp;postMsg);

    <span class="comment">// Populate RsslPostMsg with relevant information</span>
    <span class="comment">// Set flags to indicate application would like ack when posted content succeeds</span>
    <span class="comment">// Indicate that it is complete and has a post Id</span>
    postMsg.<a class="code" href="structRsslPostMsg.html#a9bed735ecad6ac7d1a31030c8c6dc37a" title="Flag values used to indicate optional member presence and/or stream behavior. The available options a...">flags</a> = <a class="code" href="group__PostMsgStruct.html#gga90140b7ed08da5a58b9b82f46feab943aea97d8c21e429adbd8dde4dda5c66d56">RSSL_PSMF_ACK</a> | <a class="code" href="group__PostMsgStruct.html#gga90140b7ed08da5a58b9b82f46feab943a852113488f33c3def7499505e720ebe6">RSSL_PSMF_HAS_POST_ID</a> | <a class="code" href="group__PostMsgStruct.html#gga90140b7ed08da5a58b9b82f46feab943a5480e7722e6f7773ee9e31c0341787c2">RSSL_PSMF_POST_COMPLETE</a>;

    <span class="comment">// Populate this with standard header information</span>
    postMsg.<a class="code" href="structRsslPostMsg.html#a907e0cce832a4ca451fe91a10ac9a0c8" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional for on-str...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a8db7dde74914351340d90b6735a55b5a" title="Unique signed-integer identifier associated with all messages flowing within a stream. Positive values indicate a consumer instantiated stream, negative values indicate a provider instantiated stream often associated with non-interactive providers.">streamId</a> = 10;
    postMsg.<a class="code" href="structRsslPostMsg.html#a907e0cce832a4ca451fe91a10ac9a0c8" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional for on-str...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#ac57985634c2a86fe334088efbfb2a3c8" title="Domain Type of this message, corresponds to a domain model definition Values less than 128 are Thomso...">domainType</a> = <a class="code" href="group__RSSLWFDomain.html#ggaaad95808886774a2ecdfd5a18519f193af75c3a137564b3e599beed9b1f4ee528">RSSL_DMT_MARKET_PRICE</a>;
    postMsg.<a class="code" href="structRsslPostMsg.html#a907e0cce832a4ca451fe91a10ac9a0c8" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional for on-str...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a8f3711db8457b3e3c4bfe6b124e993da" title="Container type that is held in the encDataBody.">containerType</a> = <a class="code" href="group__RSSLTypeEnums.html#gga8df9a55c9711b3eccf6e9cb72a62b623af072ea52dd7a45892eaaf0db894a8c68">RSSL_DT_MSG</a>;  <span class="comment">// house a message in the post message</span>

    <span class="comment">// Populate other post message members</span>
    postMsg.<a class="code" href="structRsslPostMsg.html#aa666b171faa924dba41cc11341f20b76" title="This is a consumer-assigned identifier that is used by upstream devices to distinguish different post...">postId</a> = 520;
    <span class="comment">// Populate post user info, used to identify user that posted content.  </span>
    <span class="comment">// Should include IP address of machine running app and user id or pid</span>
    postMsg.<a class="code" href="structRsslPostMsg.html#ada54d12fcae3f67523b2884c7133744a" title="Information used to identify the user that posted this content to an upstream provider.">postUserInfo</a>.<a class="code" href="structRsslPostUserInfo.html#a9fab06be41871c84389ab10fdf7de479" title="Identifier of the specific user that posted this data.">postUserId</a> = getpid(); 
    <a class="code" href="group__PostUserInfoHelpers.html#gace7160ac73c4c7d53e40a1dc3ae26bf1" title="Converts dotted-decimal IP address string(e.g. &quot;127.0.0.1&quot;) to integer equivalent.">rsslIPAddrStringToUInt</a>(<span class="stringliteral">&quot;192.0.1.10&quot;</span>, &amp;postMsg.<a class="code" href="structRsslPostMsg.html#ada54d12fcae3f67523b2884c7133744a" title="Information used to identify the user that posted this content to an upstream provider.">postUserInfo</a>.<a class="code" href="structRsslPostUserInfo.html#a7a762a47696a0b7fc79abca984630025" title="Four byte, network byte order IP Address of user that posted this data.">postUserAddr</a>);


    <span class="comment">// If we are doing on-stream posting, we do not need the key; when absent it is inferred from the stream being used to post.</span>
    <span class="comment">// If off-stream posting, RsslMsgKey is required to identify the item.</span>

    <span class="comment">// If content is pre-encoded, can set on refreshMsg.msgBase.encDataBody buffer and call rsslEncodeMsg().</span>
    <span class="comment">// If content is not pre-encoded, user can call rsslEncodeMsgInit(), encode content, and rsslEncodeMsgComplete().</span>
</pre></div><h2><a class="anchor" id="ThePostMsgStruct"></a>
RsslPostMsg Structure, Initializers and Helpers</h2>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__PostMsgStruct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PostMsgStruct.html">RsslPostMsg Structure, Initializers, and Flag values</a></td></tr>
<tr class="memdesc:group__PostMsgStruct"><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Detailed information about the <a class="el" href="structRsslPostMsg.html" title="The RsslPostMsg is used to contribute content from a consumer into the platform. The post message pay...">RsslPostMsg</a> Structure, Initializers, and flag values. </p>
<br/></td></tr>
<tr class="memitem:group__PostMsgHelpers"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PostMsgHelpers.html">RsslPostMsg Helper and Utility functions</a></td></tr>
<tr class="memdesc:group__PostMsgHelpers"><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Detailed information about the <a class="el" href="structRsslPostMsg.html" title="The RsslPostMsg is used to contribute content from a consumer into the platform. The post message pay...">RsslPostMsg</a> Helper and Utility functions. </p>
<br/></td></tr>
<tr class="memitem:group__PostUserInfoStruct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PostUserInfoStruct.html">RsslPostUserInfo Structure and Initializers</a></td></tr>
<tr class="memdesc:group__PostUserInfoStruct"><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Detailed information about the <a class="el" href="structRsslPostUserInfo.html" title="The RsslPostUserInfo is used to identify the user that has posted a message.">RsslPostUserInfo</a> Structure, Initializers, and flag values. </p>
<br/></td></tr>
<tr class="memitem:group__PostUserInfoHelpers"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PostUserInfoHelpers.html">RsslPostUserInfo Helper and Utility functions</a></td></tr>
<tr class="memdesc:group__PostUserInfoHelpers"><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Detailed information about the <a class="el" href="structRsslPostUserInfo.html" title="The RsslPostUserInfo is used to identify the user that has posted a message.">RsslPostUserInfo</a> Helper and Utility functions. </p>
<br/></td></tr>
</table>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
    <table cellSpacing="0" cellPadding="0" width="100%" border="0">
      <tr>
        <td bgColor="#ffffff"><img height="3" src="../../portal/invis.gif" width="1"></td>
      </tr>
    </table>
    <table cellspacing="0" cellpadding="0" border="0" width="100%">
      <tr>
        <td><img src="../../portal/invis.gif" width="11" height="1"></td>
        <td align="left" valign="top" width="100%"><! -- START OF FOOTER --> 
		<table cellSpacing="0" cellPadding="0" border="0">
          <tr>
            <td><p class="smallfont"><a href="../../portal/copyright.htm">Copyright Notice</a></td>
            <td><p class="smallfont"><font color="#FF6600">&nbsp;|&nbsp;</font> </td>
            <td><p class="smallfont">Last modified on:&nbsp;</td>
            <td><p class="smallfont">Thu Apr 27 2017</td>
          </tr>
        </table>
        <p class="smallfont">&nbsp;</td>
        <td vAlign="top" align="right" width="141"><a href="http://www.reuters.com/">
		<img alt="The Business of Information" src="../../portal/tr_hrz_lrg_rgb_pos.jpg" border="0" WIDTH="140" HEIGHT="50"></a></td>
      </tr>
    </table>
</small></address>
</body>
</html>
